<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸ªäººä¸»é¡µ</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <canvas class="vh-bg"></canvas>
    
    <div class="content">
        <div class="main-container">
            <div class="left-section">
                <img src="Assests/å¤´åƒ.png" alt="å¤´åƒ" class="avatar">
            </div>
            <div class="center-section">
                <div class="intro">
                    <div class="welcome">ä½ å¥½, æˆ‘æ˜¯ <span class="gradientText">Sharon</span></div>
                    <div class="intro">
                        <p id="daily-sentence">æ¯æ—¥ä¸€è¨€</p>
                    </div>
                    <div id="time-greeting">
                        <div id="current-time"></div>
                        <div id="greeting"></div>
                    </div>
                </div>

                <div class="music-player">
                    <audio id="audio-player" src="Assests/ã€æ”¹ç¼–ç‰ˆã€‘His theme.mp3"></audio>
                    <button id="play-pause" class="play-pause-btn">æ’­æ”¾</button>
                    
                    <div class="volume-control">
                        <button id="volume-btn" class="volume-btn">ğŸ”Š</button>
                        <input id="volume-slider" type="range" min="0" max="1" step="0.01" value="1" class="volume-slider">
                    </div>
                </div>                

                <div class="links">
                    <a href="https://space.bilibili.com/85363357" target="_blank" class="styled-btn">Bilibili</a>
                    <a href="tools.html" target="_blank" class="styled-btn">å·¥å…·ç«™</a>
                </div>
            </div>
            <div class="new-right-section">
                <div id="today-weather" class="weather-container">
                    <h3>ä»Šæ—¥å¤©æ°”</h3>
                    <div id="weather-info">
                        <p>åŠ è½½ä¸­...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        function updateTimeAndGreeting() {
            const timeElement = document.getElementById('current-time');
            const greetingElement = document.getElementById('greeting');

            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');

            timeElement.textContent = `${hours}:${minutes}:${seconds}`;

            let greeting = '';
            if (hours >= 6 && hours < 12) {
                greeting = "*è¿™æ˜¯æ–°çš„ä¸€å¤©ï¼Œä½ å……æ»¡äº†å¸Œæœ›";
            } else if (hours >= 12 && hours < 18) {
                greeting = "*è¿‡äº†ä¸€ä¸ªä¸Šåˆäº†ï¼Œä½ å……æ»¡äº†ä¿¡å¿ƒ";
            } else if (hours >= 18 && hours < 24) {
                greeting = "*ç°åœ¨æ˜¯æ™šä¸Šäº†ï¼Œä½ å……æ»¡äº†å¿«ä¹";
            } else {
                greeting = "*ç°åœ¨æ˜¯æ·±å¤œäº†ï¼Œæˆ‘çš„æœ‹å‹ï¼Œæ­å–œä½ åº¦è¿‡äº†ä¸€å¤©";
            }

            greetingElement.textContent = greeting;
        }

        const beautifulSentences = [
            "æ¯ä¸ªäººï¼Œéƒ½æ˜¯ä¸€é¢—æ˜äº®çš„æ˜Ÿæ˜Ÿï¼Œç‚¹ç¼€è¿™æ¼«é•¿çš„å¤œï¼Œæµ©ç€šæ˜Ÿç©ºã€‚",
            "æœé˜³åˆå‡ï¼Œä¸‡ç‰©å¤è‹ï¼Œä¸–ç•Œåœ¨è¿™ä¸€åˆ»é‡æ–°ç„•å‘æ´»åŠ›ã€‚",
            "ä¸€è½®æ˜æœˆæ‚¬æŒ‚ï¼Œç…§äº®äº†å¤§åœ°ï¼Œæ—¶é—´çš„å®ˆæœ›è€…ã€‚",
            "æ™¨æ›¦çš„ç¬¬ä¸€ç¼•é˜³å…‰ï¼Œé€è¿‡æ ‘æ¢¢ï¼Œæ’’ä¸‹é‡‘è‰²çš„å…‰è¾‰ã€‚",
            "æ˜Ÿæ˜Ÿç‚¹ç‚¹ï¼Œå¦‚åŒæ— æ•°çš„çœ¼ç›ï¼Œé»˜é»˜æ³¨è§†ç€æˆ‘ä»¬çš„äººç”Ÿã€‚",
            "å¤œç©ºä¸­çš„æµæ˜Ÿï¼Œåˆ’ç ´å®é™ï¼Œå¸¦æ¥ç¾å¥½çš„æ„¿æœ›ã€‚",
            "è¿œå¤„çš„å±±å³¦ï¼Œç¬¼ç½©åœ¨æ™¨é›¾ä¸­ï¼Œä»¿ä½›ä»™å¢ƒã€‚",
            "æ¯å½“æ˜Ÿç©ºç’€ç’¨ï¼Œæ€ç»ªä¾¿é£å‘é¥è¿œçš„å®‡å®™ã€‚",
            "æ¸…æ™¨çš„éœ²ç ï¼Œé—ªçƒç€å¾®å¼±çš„å…‰èŠ’ï¼Œæ˜¯æ˜Ÿæ˜Ÿåœ¨è‰åœ°ä¸Šè·³èˆã€‚",
            "å‚æ™šçš„æ™šéœï¼Œç‡ƒçƒ§ç€å¤©é™…ï¼Œæ˜¯ä¸€å¹…æ— å°½çš„ç”»å·ã€‚",
            "åœ¨å¯‚é™çš„å¤œæ™šï¼Œæ˜Ÿç©ºå¸¦æ¥æ— å°½çš„æ€è€ƒä¸çµæ„Ÿã€‚",
            "æœˆå…‰ä¸‹çš„æ¹–é¢ï¼Œå¦‚åŒé•œå­èˆ¬å¹³é™ï¼Œæ˜ ç…§å‡ºæ— æ•°çš„æ¢¦æƒ³ã€‚",
            "å½“äº‘å½©é£˜è¿‡ï¼Œé˜³å…‰æ´’ä¸‹ï¼Œæ•´ä¸ªä¸–ç•Œéƒ½å˜å¾—æ¸©æš–è€Œæ˜äº®ã€‚",
            "æ˜Ÿç©ºæ˜¯å¿ƒçµçš„æ¸¯æ¹¾ï¼Œè®©æˆ‘åœ¨ç¹å¿™ä¸­æ‰¾åˆ°ç‰‡åˆ»çš„å®é™ã€‚",
            "æ™¨æ›¦ä¸­çš„èŠ±æœµï¼Œé€ç€æ¸…æ–°çš„æ°”æ¯ï¼Œè¯‰è¯´ç€æ˜¥å¤©çš„æ•…äº‹ã€‚",
            "åœ¨æ˜Ÿç©ºä¹‹ä¸‹ï¼Œæ„Ÿå—åˆ°æ¸ºå°ä¸ä¼Ÿå¤§å…±å­˜çš„å¹³è¡¡ã€‚",
            "å¤•é˜³è¥¿ä¸‹ï¼Œé‡‘è‰²çš„ä½™æ™–æ´’æ»¡å¤§åœ°ï¼Œä»¿ä½›æ—¶é—´é™æ­¢ã€‚",
            "äº‘æµ·çš„èµ·ä¼ï¼Œåƒæ˜¯æ—¶é—´çš„æµåŠ¨ï¼ŒæŸ”å’Œè€Œä¸å¤±åŠ›é‡ã€‚",
            "å¤œæ™šçš„æ˜Ÿç©ºï¼Œè®©äººæ„Ÿå—åˆ°å®‡å®™çš„æµ©ç€šä¸ç¥ç§˜ã€‚",
            "æ¯ä¸€é¢—æ˜Ÿæ˜Ÿï¼Œéƒ½æ˜¯ä¸€ä¸ªç¾å¥½çš„æ„¿æœ›ï¼Œç­‰å¾…å®ç°ã€‚",
            "åœ¨å®é™çš„å¤œæ™šï¼Œå¿ƒçµå¾—ä»¥å®‰é™ï¼Œæ€ç»ªéšæ˜Ÿæ˜Ÿæ¸¸ç¦»ã€‚",
            "æœé˜³å¦‚ç«ï¼Œé©±æ•£äº†é»‘å¤œçš„é˜´éœ¾ï¼Œè¿æ¥äº†å´­æ–°çš„ä¸€å¤©ã€‚",
            "äº‘æµ·ä¹‹ä¸Šï¼Œå¤©é™…çº¿ä¸å¤§åœ°èä¸ºä¸€ä½“ï¼Œä»¿ä½›æ— å°½ã€‚",
            "æœˆå…‰é€è¿‡æ ‘å¶ï¼Œæ´’ä¸‹æ–‘é©³çš„å…‰å½±ï¼Œå¸¦æ¥æ¢¦å¹»çš„æ°›å›´ã€‚",
            "æ˜Ÿç©ºå¦‚æµ·ï¼Œé—ªçƒçš„æ˜Ÿæ˜Ÿå®›å¦‚æ³¢æ¶›æ‹å²¸ï¼ŒåŠ¨äººå¿ƒå¼¦ã€‚",
            "æ™¨é›¾å¼¥æ¼«ï¼ŒæŠŠæ•´ä¸ªä¸–ç•Œéƒ½ç¬¼ç½©åœ¨æ¢¦ä¸­ã€‚",
            "åœ¨æ˜Ÿç©ºçš„é™ªä¼´ä¸‹ï¼Œçµé­‚è‡ªç”±é£ç¿”ã€‚",
            "äº‘æœµå˜åŒ–ä¸‡åƒï¼Œå¦‚åŒå¿ƒæƒ…çš„æ³¢åŠ¨ï¼Œåƒå§¿ç™¾æ€ã€‚",
            "å½“æ˜Ÿè¾°é—ªçƒï¼Œæˆ‘çš„æ¢¦æƒ³ä¹Ÿåœ¨é—ªè€€ã€‚",
            "é™è°§çš„å¤œæ™šï¼Œæ˜Ÿç©ºå¦‚è¯—ï¼Œè¯‰è¯´ç€å¤è€çš„ä¼ è¯´ã€‚",
            "æœé˜³ç…§è€€ï¼Œä¸‡ç‰©å¤è‹ï¼Œç”Ÿå‘½åœ¨è¿™ä¸€åˆ»é‡æ–°å¼€å§‹ã€‚",
            "äº‘æµ·ç¼¥ç¼ˆï¼Œä»¿ä½›åœ¨å¤©ç©ºä¸­èˆåŠ¨ï¼Œè½»ç›ˆè€Œè‡ªç”±ã€‚",
            "æ˜Ÿæ˜Ÿæ˜¯ä¸€ç›ç›ç¯ç«ï¼ŒæŒ‡å¼•æˆ‘å‰è¡Œçš„æ–¹å‘ã€‚",
            "åœ¨æ˜Ÿç©ºä¸‹ï¼Œæˆ‘çš„å¿ƒçµå¾—åˆ°å‡åï¼Œä»¿ä½›ä¸å®‡å®™å¯¹è¯ã€‚",
            "æ¸…æ™¨çš„é˜³å…‰é€è¿‡çª—å¸˜ï¼Œæ¸©æš–äº†æ•´ä¸ªæˆ¿é—´ã€‚",
            "äº‘æœµåƒæ˜¯å¤©ä¸Šçš„ç”»ç¬”ï¼Œæç»˜ç€ç¾ä¸½çš„é£æ™¯ã€‚",
            "å¤œæ™šçš„æ˜Ÿç©ºï¼Œå®›å¦‚ä¸€å¹…æ— å£°çš„ç”»ï¼Œä»¤äººé™¶é†‰ã€‚",
            "æ¯å½“æˆ‘ä»°æœ›æ˜Ÿç©ºï¼Œå¿ƒä¸­æ€»ä¼šæ¶Œèµ·æ— å°½çš„æ„Ÿæ…¨ã€‚",
            "äº‘æµ·ä¸Šçš„æ—¥å‡ºï¼Œä»¿ä½›æ˜¯åœ¨å‘æˆ‘å±•ç¤ºäººç”Ÿçš„å¸Œæœ›ã€‚",
            "æ˜Ÿç©ºæµ©ç€šï¼Œå¸¦ç€æ¢¦æƒ³ä¸å¸Œæœ›ï¼Œç…§è€€ç€æˆ‘çš„äººç”Ÿé“è·¯ã€‚",
            "å½“äº‘å½©åœ¨å¤©ç©ºä¸­é£˜åŠ¨ï¼Œæˆ‘çš„æ€ç»ªä¹Ÿéšä¹‹é£æ‰¬ã€‚",
            "æœˆå…‰å¦‚æ°´ï¼Œæµ¸æ¶¦ç€å¤§åœ°ï¼Œæ¸©æŸ”è€Œé™è°§ã€‚",
            "æ™¨æ›¦ä¸­çš„å±±è„‰ï¼Œé€ç€ç¥ç§˜ä¸å¤è€çš„åŠ›é‡ã€‚",
            "åœ¨æ˜Ÿç©ºçš„æ€€æŠ±ä¸­ï¼Œå¿ƒçµå¾—ä»¥é‡Šç„¶ï¼Œæ¢¦æƒ³å†æ¬¡å¯èˆªã€‚",
            "æ¯ä¸€é¢—æ˜Ÿæ˜Ÿï¼Œéƒ½æ˜¯æ—¶é—´çš„è®°å¿†ï¼Œé—ªçƒç€å¾€æ˜”çš„æ•…äº‹ã€‚",
            "äº‘æµ·ä¹‹ä¸‹ï¼Œä¸‡ç‰©çš†é™ï¼Œåªæœ‰å¿ƒè·³å£°å›è¡åœ¨è€³è¾¹ã€‚",
            "åœ¨è¿™ç‰‡æ˜Ÿç©ºä¸‹ï¼Œæ„¿æˆ‘çš„æ¢¦èƒ½é£å¾—æ›´è¿œã€‚",
            "çƒŸèŠ±ç»½æ”¾ä¸€ç¬é—´ï¼Œä¸å›å¤©æ¶¯å…±æ­¤æ—¶ã€‚",
            "çˆ±ä¹Ÿè®¸æ˜¯æˆ‘ä»¬æ— æ³•ç†è§£çš„ä¸€ç§åŠ›é‡ï¼Œä½†æ˜¯å®ƒä¸€ç›´åœ¨ã€‚",
            "It matters not what someone is born,but what they grow to be. â€”â€”Dumbledore",
            "It is our choices,that show what we really are,far more than our abilities. â€”â€”Dumbledore",
            "After all this Time?Always.",
            "å‹‡æ•¢å¹¶ä¸æ˜¯ä¸€ä¸ªäººæ‰‹ä¸­æ‹¿ç€æªï¼Œè€Œæ˜¯åœ¨ä½ åŠ¨æ‰‹ä¹‹å‰ä½ å·²ç»çŸ¥é“è‡ªå·±ä¼šè¾“ï¼Œä½†ä¾ç„¶ä¼šåŠ¨æ‰‹ï¼Œè€Œä¸”æ— è®ºå¦‚ä½•ä¼šåšæŒåˆ°åº•ã€‚",
            "Happiness can be found, even in the darkest of times, if one only remembers to turn on the light."
        ];

        window.onload = function() {
            const randomSentence = beautifulSentences[Math.floor(Math.random() * beautifulSentences.length)];
            const dailySentenceElement = document.getElementById('daily-sentence');
            dailySentenceElement.textContent = randomSentence;

            updateTimeAndGreeting();
            setInterval(updateTimeAndGreeting, 1000);

            const audioPlayer = document.getElementById('audio-player');
            const playPauseBtn = document.getElementById('play-pause');
            const volumeSlider = document.getElementById('volume-slider');

            playPauseBtn.addEventListener('click', function() {
                if (audioPlayer.paused) {
                    audioPlayer.play();
                    playPauseBtn.textContent = 'æš‚åœ';
                } else {
                    audioPlayer.pause();
                    playPauseBtn.textContent = 'æ’­æ”¾';
                }
            });

            volumeSlider.addEventListener('input', function() {
                audioPlayer.volume = volumeSlider.value;
            });

            async function fetchUserInfo() {
                try {
                    const userInfoResponse = await fetch('https://api.vvhan.com/api/visitor.info');
                    const userInfo = await userInfoResponse.json();
                    
                    if (userInfo.success) {
                        fetchWeather(userInfo.ip);
                    } else {
                        document.getElementById('weather-info').innerHTML = '<p>è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥</p>';
                    }
                } catch (error) {
                    console.error('è·å–ç”¨æˆ·ä¿¡æ¯æ—¶å‡ºé”™:', error);
                    document.getElementById('weather-info').innerHTML = '<p>è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥</p>';
                }
            }

            async function fetchWeather(ip) {
                try {
                    const weatherResponse = await fetch(`https://api.vvhan.com/api/weather?ip=${ip}`);
                    const weatherData = await weatherResponse.json();

                    if (weatherData.success) {
                        displayWeather(weatherData);
                    } else {
                        document.getElementById('weather-info').innerHTML = '<p>è·å–å¤©æ°”ä¿¡æ¯å¤±è´¥</p>';
                    }
                } catch (error) {
                    console.error('è·å–å¤©æ°”ä¿¡æ¯æ—¶å‡ºé”™:', error);
                    document.getElementById('weather-info').innerHTML = '<p>è·å–å¤©æ°”ä¿¡æ¯å¤±è´¥</p>';
                }
            }

            function displayWeather(weatherData) {
                const weatherInfo = document.getElementById('weather-info');
                const data = weatherData.data;
                const air = weatherData.air;

                weatherInfo.innerHTML = `
                    <p><strong>å¤©æ°”ï¼š</strong> ${data.type}</p>
                    <p><strong>æ¸©åº¦ï¼š</strong> ${data.low} ~ ${data.high}</p>
                    <p><strong>é£å‘ï¼š</strong> ${data.fengxiang} (${data.fengli})</p>
                    <p class="weather-detail"><strong>å¤œé—´å¤©æ°”ï¼š</strong> ${data.night.type}, ${data.night.fengxiang} (${data.night.fengli})</p>
                `;
            }

            fetchUserInfo();
        };
    </script>
</body>
</html>
